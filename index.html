<!DOCTYPE html>
<html>
  <head>
    <title>Telegram Web App Example</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      window.onload = function () {
        const initDataUnsafe = Telegram.WebApp.initDataUnsafe;
        if (!initDataUnsafe) {
          alert("This page must be opened in Telegram.");
          return;
        }

        // Initialize the Web App
        Telegram.WebApp.ready();

        // Function to show settings
        function showSettings() {
          Telegram.WebApp.showSettings();
        }

        // Function to trigger selection change feedback
        function triggerSelectionChange() {
          Telegram.WebApp.HapticFeedback.selectionChanged();
          console.log("Selection change feedback triggered.");
        }

        // Function to open invoice
        function openInvoice() {
          const invoice = {
            title: "Test Invoice",
            description: "This is a test invoice",
            payload: "test_payload",
            provider_token: "YOUR_PROVIDER_TOKEN",
            currency: "USD",
            prices: JSON.stringify([
              { label: "Item 1", amount: 1000 },
              { label: "Item 2", amount: 2000 },
            ]),
          };
          Telegram.WebApp.openInvoice(invoice);
        }

        // Set up event listeners for the buttons
        document.getElementById("showSettingsBtn").addEventListener("click", showSettings);
        document
          .getElementById("selectionChangeBtn")
          .addEventListener("click", triggerSelectionChange);
        document.getElementById("openInvoiceBtn").addEventListener("click", openInvoice);
      };
    </script>
  </head>
  <body>
    <button id="showSettingsBtn">Open Telegram Settings</button>
    <button id="selectionChangeBtn">Trigger Selection Change</button>
    <button id="openInvoiceBtn">Open Invoice</button>
  </body>
</html>
